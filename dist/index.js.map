{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react'\n\nconst AuthCode = ({\n  characters = 6,\n  allowedCharacters = '^[A-Za-z0-9]*$',\n  onChange,\n  password,\n  inputStyle,\n  containerStyle\n}) => {\n  const inputsRef = useRef([])\n\n  useEffect(() => {\n    inputsRef.current[0].focus()\n  }, [])\n\n  const sendResult = () => {\n    const res = inputsRef.current.map((input) => input.value).join('')\n    onChange && onChange(res)\n  }\n\n  const handleOnChange = (e) => {\n    if (e.target.value.match(allowedCharacters)) {\n      if (e.target.nextElementSibling !== null) {\n        e.target.nextElementSibling.focus()\n      }\n    } else {\n      e.target.value = ''\n    }\n    sendResult()\n  }\n\n  const handleOnKeyDown = (e) => {\n    const { key } = e\n    if (key === 'Backspace') {\n      if (e.target.value === '' && e.target.previousElementSibling !== null) {\n        if (e.target.previousElementSibling !== null) {\n          e.target.previousElementSibling.focus()\n          e.preventDefault()\n        }\n      } else {\n        e.target.value = ''\n      }\n      sendResult()\n    }\n  }\n\n  const handleOnFocus = (e) => {\n    e.target.select()\n  }\n\n  const handleOnPaste = (e) => {\n    const value = e.clipboardData.getData('Text')\n    if (value.match(allowedCharacters)) {\n      for (let i = 0; i < characters && i < value.length; i++) {\n        inputsRef.current[i].value = value.charAt(i)\n        if (inputsRef.current[i].nextElementSibling !== null) {\n          inputsRef.current[i].nextElementSibling.focus()\n        }\n      }\n      sendResult()\n    }\n    e.preventDefault()\n  }\n\n  const inputs = []\n  for (let i = 0; i < characters; i++) {\n    inputs.push(\n      <input\n        key={i}\n        onChange={handleOnChange}\n        onKeyDown={handleOnKeyDown}\n        onFocus={handleOnFocus}\n        onPaste={handleOnPaste}\n        type={password ? 'password' : 'text'}\n        ref={(el) => (inputsRef.current[i] = el)}\n        maxLength={1}\n        style={inputStyle}\n      />\n    )\n  }\n\n  return <div style={containerStyle}>{inputs}</div>\n}\n\nexport default AuthCode\n"],"names":["AuthCode","characters","allowedCharacters","onChange","password","inputStyle","containerStyle","inputsRef","useRef","useEffect","current","focus","sendResult","res","map","input","value","join","handleOnChange","e","target","match","nextElementSibling","handleOnKeyDown","key","previousElementSibling","preventDefault","handleOnFocus","select","handleOnPaste","clipboardData","getData","i","length","charAt","inputs","push","React","el"],"mappings":"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"}